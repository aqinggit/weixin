/*Copyright JianJuKe.cn*/function rebind(){$("img.lazy").lazyload({threshold:600,failure_limit:50}),$(".imgAlt").unbind("change").change(function(){var a=$(this),b=a.attr("data-id");if(!b)return!1;var c=$(this).val();$.post(zmf.setImgAltUrl,{id:b,content:c,YII_CSRF_TOKEN:zmf.csrfToken},function(a){a=$.parseJSON(a),1!==a.status&&simpleDialog({content:a.msg})})}),$(".tag-item").unbind("click").click(function(){var a=$(this);a.hasClass("active")?(a.removeClass("active"),a.children("input").removeAttr("checked")):(a.addClass("active"),a.children("input").attr("checked","checked"))}),$("a[action=scroll]").unbind("click").click(function(){var a=$(this),b=a.attr("action-target");return b?void $("body,html").animate({scrollTop:$("#"+b).offset().top},200):!1}),$("#add-post-btn").unbind("click").click(function(){$(window).unbind("beforeunload")}),$("a[action=ajax]").unbind("click").click(function(){var dom=$(this),data=dom.attr("action-data"),input=dom.attr("action-input");if(!data)return alert("缺少参数"),!1;var passData={YII_CSRF_TOKEN:zmf.csrfToken,action:"ajax",data:data};if(input){var inputDom=$("#"+input),inputVal=inputDom.val();if(!inputVal||parseInt(inputVal)<1)return simpleDialog({content:"请完善输入"}),inputDom.focus(),!1;passData.extra=inputVal}$.post(zmf.ajaxUrl,passData,function(result){result=eval("("+result+")"),simpleDialog(1===result.status?{content:result.msg}:{content:result.msg})})}),$("a.toggle").unbind("click").click(function(){var a=$(this),b=a.attr("data-id");if(!b)return!1;var c=$("#content-"+b),d=$("#substr-"+b);"none"===c.css("display")?(c.show(),d.hide()):(c.hide(),d.show())}),$(".tags-item").unbind("click").click(function(){function a(){var a=0;return $(".tags-item").each(function(){$(this).hasClass("active")&&++a}),a>=10?!1:!0}var b=$(this);if(b.hasClass("active"))b.removeClass("active"),b.children("input").removeAttr("checked");else{if(!a())return simpleDialog({content:"最多只能选择10个标签"}),!1;b.addClass("active"),b.children("input").attr("checked","checked")}}),$("#tags-holder .pointer").unbind("click").click(function(){var a=$(this);a.hasClass("active")?(a.parent("._tags_items").children(".hide-item").each(function(){$(this).addClass("displayNone")}),a.removeClass("active").html("︾")):(a.parent("._tags_items").children(".hide-item").each(function(){$(this).removeClass("displayNone")}),a.addClass("active").html("︽"))});var clipboard=new Clipboard(".btn-copy");clipboard.on("success",function(a){simpleDialog({content:"复制成功"})}),clipboard.on("error",function(a){simpleDialog({content:"复制失败，请手动复制浏览器链接"})})}function loadBaiduJScript(){var a=document.createElement("script");a.type="text/javascript",a.src="http://api.map.baidu.com/api?v=2.0&ak=6dpa3CAjuZwAEbx1viy4jtGGIdbIZv59&callback=initBaiduMap",document.body.appendChild(a)}function initBaiduMap(){var a=new BMap.Map("map-holder",{enableMapClick:!1}),b=new BMap.Point(long,lat),c=new BMap.Marker(b);a.addOverlay(c),a.centerAndZoom(b,18),a.enableScrollWheelZoom();var d={width:200,height:100,title:title,enableMessage:!0},e=new BMap.InfoWindow(address,d);c.addEventListener("click",function(){a.openInfoWindow(e,b)})}function getNotice(){doGetNotice(),window.onblur=function(){clearInterval(notice_interval)},window.onfocus=function(){clearInterval(notice_interval),notice_interval=window.setInterval("doGetNotice()",1e4)}}function doGetNotice(){return checkLogin()?void $.post(zmf.ajaxUrl,{action:"getNotice",YII_CSRF_TOKEN:zmf.csrfToken},function(a){if(a=$.parseJSON(a),1===a.status){var b=parseInt(a.notices);b>0?($("#top-nav-count").html(b).css("display","inline-block"),null===flashTitle.timer&&flashTitle.show()):($("#top-nav-count").hide(),flashTitle.clear());var c=parseInt(a.tasks);c>0?$("#top-task-count").html(c).css("display","inline-block"):$("#top-task-count").hide()}}):!1}function playVideo(a,b,c,d){if(!a||!b||!c)return!1;var e=$("#"+c).width(),f=9*e/16,g="";"youku"===a?g='<iframe src="http://player.youku.com/embed/'+b+'" height="'+f+'" width="'+e+'" allowtransparency="true" allowfullscreen="true" allowfullscreenInteractive="true" scrolling="no" border="0" frameborder="0"  height="'+f+'" width="'+e+'"></iframe>':"tudou"===a?g='<iframe src="http://www.tudou.com/programs/view/html5embed.action?type=2&'+b+'" allowtransparency="true" allowfullscreen="true" allowfullscreenInteractive="true" scrolling="no" border="0" frameborder="0"  height="'+f+'" width="'+e+'"></iframe>':"qq"===a&&(g='<iframe src="http://v.qq.com/iframe/player.html?vid='+b+'&tiny=0&auto=1" allowtransparency="true" allowfullscreen="true" allowfullscreenInteractive="true" scrolling="no" border="0" frameborder="0"  height="'+f+'" width="'+e+'"></iframe>'),$("#"+c).html(g),$(d).remove()}function myUploadify(){$("#uploadfile").uploadify({height:34,width:120,swf:zmf.baseUrl+"/common/uploadify/uploadify.swf",queueID:"fileQueue",auto:!0,multi:!0,fileObjName:"filedata",uploadLimit:zmf.perAddImgNum,fileSizeLimit:zmf.allowImgPerSize,fileTypeExts:zmf.allowImgTypes,fileTypeDesc:"Image Files",uploader:tipImgUploadUrl,buttonText:"请选择",buttonClass:"btn btn-success",debug:!1,formData:{PHPSESSID:zmf.currentSessionId,YII_CSRF_TOKEN:zmf.csrfToken},onUploadSuccess:function(file,data,response){if(data=eval("("+data+")"),1==data.status){var img="<p><img src='"+data.thumbnail+"' data='"+data.attachid+"' class='img-responsive'/></p>";if(myeditor.execCommand("inserthtml",img),$("#waitForAlt").length>0){var html='<div class="media"><div class="media-left"><img src="'+data.thumbnail+'"/></div><div class="media-body"><div class="form-group"><textarea class="form-control imgAlt" data-id="'+data.attachid+'" rows="4" placeholder="输入图片alt"></textarea></div></div></div>';$("#waitForAlt").append(html),rebind()}}else simpleDialog({content:data.msg});tipsImgOrder++}})}function uploadByLimit(a){if("object"!=typeof a)return!1;var b=!0;b="undefined"==typeof a.multi?!0:a.multi,$("#"+a.placeHolder).uploadify({height:a.height?a.height:100,width:a.width?a.width:300,swf:zmf.baseUrl+"/common/uploadify/uploadify.swf",queueID:a.queueID?a.queueID:"singleFileQueue",auto:!0,multi:b,queueSizeLimit:zmf.perAddImgNum,fileObjName:a.filedata?a.filedata:"filedata",fileTypeExts:zmf.allowImgTypes,fileSizeLimit:zmf.allowImgPerSize,fileTypeDesc:"Image Files",uploader:a.uploadUrl,buttonText:a.buttonText?a.buttonText:null===a.buttonText?"":"添加图片",buttonClass:a.buttonClass?a.buttonClass:"btn btn-default",debug:!1,formData:{PHPSESSID:zmf.currentSessionId,YII_CSRF_TOKEN:zmf.csrfToken},onSelect:function(a){},onUploadSuccess:function(b,c,d){c=$.parseJSON(c),1==c.status?(a.inputId&&$("#"+a.inputId).val(c.imgsrc),a.targetHolder&&$("#"+a.targetHolder).attr("src",c.thumbnail)):simpleDialog({content:c.msg})}})}function singleUploadify(a){if("object"!=typeof a)return!1;var b=!0;b="undefined"==typeof a.multi?!0:a.multi,$("#"+a.placeHolder).uploadify({height:a.height?a.height:100,width:a.width?a.width:300,swf:zmf.baseUrl+"/common/uploadify/uploadify.swf",queueID:"singleFileQueue",auto:!0,multi:b,queueSizeLimit:zmf.perAddImgNum,fileObjName:a.filedata?a.filedata:"filedata",fileTypeExts:zmf.allowImgTypes,fileSizeLimit:zmf.allowImgPerSize,fileTypeDesc:"Image Files",uploader:a.uploadUrl,buttonText:a.buttonText?a.buttonText:null===a.buttonText?"":"添加图片",buttonClass:a.buttonClass?a.buttonClass:"btn btn-default",debug:!1,formData:{PHPSESSID:zmf.currentSessionId,YII_CSRF_TOKEN:zmf.csrfToken},onUploadStart:function(b){if(a.saveItems){var c={},d=new Date,e=b.type,f=a.type+"/"+d.getFullYear()+"/"+(d.getMonth()+1)+"/"+d.getDate()+"/"+uuid()+e;c.key=f,c.token=a.token,$("#"+a.placeHolder).uploadify("settings","formData",c)}},onUploadSuccess:function(b,c,d){if(c=$.parseJSON(c),a.saveItems){if(c.error)return alert(c.error),!1;var e={YII_CSRF_TOKEN:zmf.csrfToken,filePath:c.key,fileSize:b.size,type:a.type,logid:a.logid,action:"saveUploadImg"};$.post(zmf.ajaxUrl,e,function(b){return b=$.parseJSON(b),1!==b.status?(alert(b.msg),!1):($("#fileSuccess").append(b.html),a.inputId&&$("#"+a.inputId).val(b.attachid),rebind(),void 0)})}else{if(1!==c.status)return alert(c.msg),!1;$("#fileSuccess").html(c.html),a.inputId&&$("#"+a.inputId).val(c.attachid),rebind()}}})}function dialog(a){if("object"!=typeof a)return!1;var b=a.msg,c=a.id,d=a.title,e=a.action,f=a.actionName,g=a.time,h=a.modalSize;$("#"+beforeModal).modal("hide"),("undefined"==typeof d||""===d)&&(d="提示"),("undefined"==typeof c||""===c)&&(c="myDialog"),"undefined"==typeof e&&(e=""),"undefined"==typeof h&&(h=""),$("#"+c).remove();var i='<div class="modal fade mymodal" id="'+c+'" tabindex="-1" role="dialog" aria-labelledby="'+c+'Label" aria-hidden="true"><div class="modal-dialog '+h+'"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="'+c+'Label">'+d+'</h4></div><div class="modal-body">'+b+'</div><div class="modal-footer">';if(i+='<button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>',""!==e&&"undefined"!=typeof e){var j;j=""!==f&&"undefined"!=typeof f?f:"确定",i+='<button type="button" class="btn btn-primary" action="'+e+'" data-loading-text="Loading...">'+j+"</button>"}i+="</div></div></div></div>",$("body").append(i),$("#"+c).modal({backdrop:!1,keyboard:!1}),beforeModal=c,g>0&&"undefined"!=typeof g&&setTimeout("closeDialog('"+c+"')",1e3*g)}function closeDialog(a){a||(a="myDialog"),$("#"+a).modal("hide"),$("#"+a).remove(),$("body").eq(0).removeClass("modal-open")}function simpleDialog(a){if("object"!=typeof a)return!1;var b=a.content||a.msg,c='<div class="simpleDialog '+(1===a.status?"succDialog":"errDialog")+'">'+b+"</div>";$("body").append(c);var d=$(".simpleDialog"),e=d.width(),f=d.height();d.css({"margin-left":-e/2,"margin-top":-f/2}),d.fadeIn(300),setTimeout("closeSimpleDialog()",2700)}function closeSimpleDialog(){$(".simpleDialog").fadeOut(100).remove()}function simpleLoading(a){if("object"!=typeof a)return!1;var b=a.title,c='<div class="simple-loading-box"><div class="loading-holder"><i class="fa fa-spinner"></i></div><div class="loading-title"><p>'+b+"</p></div></div>";$("body").append(c);var d=$(".simple-loading-box"),e=d.width(),f=d.height();d.css({"margin-left":-e/2,"margin-top":-f/2}),d.fadeIn(300),setTimeout("closeSimpleLoading()",2700)}function closeSimpleLoading(){$(".simple-loading-box").fadeOut(100).remove()}function checkAjax(){return ajaxReturn?(ajaxReturn=!1,!0):(simpleDialog({content:"请求正在发送中，请稍后"}),!1)}function checkLogin(){return"undefined"==typeof zmf.hasLogin?!1:"true"===zmf.hasLogin?!0:!1}function uuid(a,b){var c,d="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),e=[];if(b=b||d.length,a)for(c=0;a>c;c++)e[c]=d[0|Math.random()*b];else{var f;for(e[8]=e[13]=e[18]=e[23]="-",e[14]="4",c=0;36>c;c++)e[c]||(f=0|16*Math.random(),e[c]=d[19===c?3&f|8:f])}return e.join("")}function stopDefault(a){return a&&a.preventDefault?a.preventDefault():window.event.returnValue=!1,!1}var tipsImgOrder=0,beforeModal,ajaxReturn=!0,url=window.location.href,flashTitle={time:0,title:document.title,timer:null,show:function(){var a=flashTitle.title.replace("【　　　】","").replace("【新消息】","");return flashTitle.timer=setTimeout(function(){flashTitle.time++,flashTitle.show(),flashTitle.time%2==0?document.title="【新消息】"+a:document.title="【　　　】"+a},600),[flashTitle.timer,flashTitle.title]},clear:function(){clearTimeout(flashTitle.timer),document.title=flashTitle.title}},notice_interval=null;!function(a,b,c,d){var e=a(b);a.fn.lazyload=function(f){function g(){var b=0;i.each(function(){var c=a(this);if(!j.skip_invisible||c.is(":visible"))if(a.abovethetop(this,j)||a.leftofbegin(this,j));else if(a.belowthefold(this,j)||a.rightoffold(this,j)){if(++b>j.failure_limit)return!1}else c.trigger("appear"),b=0})}var h,i=this,j={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:b,data_attribute:"original",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return f&&(d!==f.failurelimit&&(f.failure_limit=f.failurelimit,delete f.failurelimit),d!==f.effectspeed&&(f.effect_speed=f.effectspeed,delete f.effectspeed),a.extend(j,f)),h=j.container===d||j.container===b?e:a(j.container),0===j.event.indexOf("scroll")&&h.bind(j.event,function(){return g()}),this.each(function(){var b=this,c=a(b);b.loaded=!1,(c.attr("src")===d||c.attr("src")===!1)&&c.is("img")&&c.attr("src",j.placeholder),c.one("appear",function(){if(!this.loaded){if(j.appear){var d=i.length;j.appear.call(b,d,j)}a("<img />").bind("load",function(){var d=c.attr("data-"+j.data_attribute);c.hide(),c.is("img")?c.attr("src",d):c.css("background-image","url('"+d+"')"),c[j.effect](j.effect_speed),b.loaded=!0;var e=a.grep(i,function(a){return!a.loaded});if(i=a(e),j.load){var f=i.length;j.load.call(b,f,j)}}).attr("src",c.attr("data-"+j.data_attribute))}}),0!==j.event.indexOf("scroll")&&c.bind(j.event,function(){b.loaded||c.trigger("appear")})}),e.bind("resize",function(){g()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&e.bind("pageshow",function(b){b.originalEvent&&b.originalEvent.persisted&&i.each(function(){a(this).trigger("appear")})}),a(c).ready(function(){g()}),this},a.belowthefold=function(c,f){var g;return g=f.container===d||f.container===b?(b.innerHeight?b.innerHeight:e.height())+e.scrollTop():a(f.container).offset().top+a(f.container).height(),g<=a(c).offset().top-f.threshold},a.rightoffold=function(c,f){var g;return g=f.container===d||f.container===b?e.width()+e.scrollLeft():a(f.container).offset().left+a(f.container).width(),g<=a(c).offset().left-f.threshold},a.abovethetop=function(c,f){var g;return g=f.container===d||f.container===b?e.scrollTop():a(f.container).offset().top,g>=a(c).offset().top+f.threshold+a(c).height()},a.leftofbegin=function(c,f){var g;return g=f.container===d||f.container===b?e.scrollLeft():a(f.container).offset().left,g>=a(c).offset().left+f.threshold+a(c).width()},a.inviewport=function(b,c){return!(a.rightoffold(b,c)||a.leftofbegin(b,c)||a.belowthefold(b,c)||a.abovethetop(b,c))},a.extend(a.expr[":"],{"below-the-fold":function(b){return a.belowthefold(b,{threshold:0})},"above-the-top":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-screen":function(b){return a.rightoffold(b,{threshold:0})},"left-of-screen":function(b){return!a.rightoffold(b,{threshold:0})},"in-viewport":function(b){return a.inviewport(b,{threshold:0})},"above-the-fold":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-fold":function(b){return a.rightoffold(b,{threshold:0})},"left-of-fold":function(b){return!a.rightoffold(b,{threshold:0})}})}(jQuery,window,document),!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.Clipboard=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d=a("matches-selector");b.exports=function(a,b,c){for(var e=c?a:a.parentNode;e&&e!==document;){if(d(e,b))return e;e=e.parentNode}}},{"matches-selector":2}],2:[function(a,b,c){function d(a,b){if(f)return f.call(a,b);for(var c=a.parentNode.querySelectorAll(b),d=0;d<c.length;++d)if(c[d]==a)return!0;return!1}var e=Element.prototype,f=e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector;b.exports=d},{}],3:[function(a,b,c){function d(a,b,c,d){var f=e.apply(this,arguments);return a.addEventListener(c,f),{destroy:function(){a.removeEventListener(c,f)}}}function e(a,b,c,d){return function(c){c.delegateTarget=f(c.target,b,!0),c.delegateTarget&&d.call(a,c)}}var f=a("closest");b.exports=d},{closest:1}],4:[function(a,b,c){c.node=function(a){return void 0!==a&&a instanceof HTMLElement&&1===a.nodeType},c.nodeList=function(a){var b=Object.prototype.toString.call(a);return void 0!==a&&("[object NodeList]"===b||"[object HTMLCollection]"===b)&&"length"in a&&(0===a.length||c.node(a[0]))},c.string=function(a){return"string"==typeof a||a instanceof String},c["function"]=function(a){var b=Object.prototype.toString.call(a);return"[object Function]"===b}},{}],5:[function(a,b,c){function d(a,b,c){if(!a&&!b&&!c)throw new Error("Missing required arguments");if(!h.string(b))throw new TypeError("Second argument must be a String");if(!h["function"](c))throw new TypeError("Third argument must be a Function");if(h.node(a))return e(a,b,c);if(h.nodeList(a))return f(a,b,c);if(h.string(a))return g(a,b,c);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function e(a,b,c){return a.addEventListener(b,c),{destroy:function(){a.removeEventListener(b,c)}}}function f(a,b,c){return Array.prototype.forEach.call(a,function(a){a.addEventListener(b,c)}),{destroy:function(){Array.prototype.forEach.call(a,function(a){a.removeEventListener(b,c)})}}}function g(a,b,c){return i(document.body,a,b,c)}var h=a("./is"),i=a("delegate");b.exports=d},{"./is":4,delegate:3}],6:[function(a,b,c){function d(a){var b;if("INPUT"===a.nodeName||"TEXTAREA"===a.nodeName)a.focus(),a.setSelectionRange(0,a.value.length),b=a.value;else{a.hasAttribute("contenteditable")&&a.focus();var c=window.getSelection(),d=document.createRange();d.selectNodeContents(a),c.removeAllRanges(),c.addRange(d),b=c.toString()}return b}b.exports=d},{}],7:[function(a,b,c){function d(){}d.prototype={on:function(a,b,c){var d=this.e||(this.e={});return(d[a]||(d[a]=[])).push({fn:b,ctx:c}),this},once:function(a,b,c){function d(){e.off(a,d),b.apply(c,arguments)}var e=this;return d._=b,this.on(a,d,c)},emit:function(a){var b=[].slice.call(arguments,1),c=((this.e||(this.e={}))[a]||[]).slice(),d=0,e=c.length;for(d;e>d;d++)c[d].fn.apply(c[d].ctx,b);return this},off:function(a,b){var c=this.e||(this.e={}),d=c[a],e=[];if(d&&b)for(var f=0,g=d.length;g>f;f++)d[f].fn!==b&&d[f].fn._!==b&&e.push(d[f]);return e.length?c[a]=e:delete c[a],this}},b.exports=d},{}],8:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a("select"),h=d(g),i=function(){function a(b){e(this,a),this.resolveOptions(b),this.initSelection()}return a.prototype.resolveOptions=function(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action=a.action,this.emitter=a.emitter,this.target=a.target,this.text=a.text,this.trigger=a.trigger,this.selectedText=""},a.prototype.initSelection=function(){if(this.text&&this.target)throw new Error('Multiple attributes declared, use either "target" or "text"');if(this.text)this.selectFake();else{if(!this.target)throw new Error('Missing required attributes, use either "target" or "text"');this.selectTarget()}},a.prototype.selectFake=function(){var a=this;this.removeFake(),this.fakeHandler=document.body.addEventListener("click",function(){return a.removeFake()}),this.fakeElem=document.createElement("textarea"),this.fakeElem.style.position="absolute",this.fakeElem.style.left="-9999px",this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=h["default"](this.fakeElem),this.copyText()},a.prototype.removeFake=function(){this.fakeHandler&&(document.body.removeEventListener("click"),this.fakeHandler=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},a.prototype.selectTarget=function(){this.selectedText=h["default"](this.target),this.copyText()},a.prototype.copyText=function(){var a=void 0;try{a=document.execCommand(this.action)}catch(b){a=!1}this.handleResult(a)},a.prototype.handleResult=function(a){a?this.emitter.emit("success",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},a.prototype.clearSelection=function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},a.prototype.destroy=function(){this.removeFake()},f(a,[{key:"action",set:function(){var a=arguments.length<=0||void 0===arguments[0]?"copy":arguments[0];if(this._action=a,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(a){if(void 0!==a){if(!a||"object"!=typeof a||1!==a.nodeType)throw new Error('Invalid "target" value, use a valid Element');this._target=a}},get:function(){return this._target}}]),a}();c["default"]=i,b.exports=c["default"]},{select:6}],9:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function g(a,b){var c="data-clipboard-"+a;return b.hasAttribute(c)?b.getAttribute(c):void 0}c.__esModule=!0;var h=a("./clipboard-action"),i=d(h),j=a("tiny-emitter"),k=d(j),l=a("good-listener"),m=d(l),n=function(a){function b(c,d){e(this,b),a.call(this),this.resolveOptions(d),this.listenClick(c)}return f(b,a),b.prototype.resolveOptions=function(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action="function"==typeof a.action?a.action:this.defaultAction,this.target="function"==typeof a.target?a.target:this.defaultTarget,this.text="function"==typeof a.text?a.text:this.defaultText},b.prototype.listenClick=function(a){var b=this;this.listener=m["default"](a,"click",function(a){return b.onClick(a)})},b.prototype.onClick=function(a){var b=a.delegateTarget||a.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new i["default"]({action:this.action(b),target:this.target(b),text:this.text(b),trigger:b,emitter:this})},b.prototype.defaultAction=function(a){return g("action",a)},b.prototype.defaultTarget=function(a){var b=g("target",a);return b?document.querySelector(b):void 0},b.prototype.defaultText=function(a){return g("text",a)},b.prototype.destroy=function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},b}(k["default"]);c["default"]=n,b.exports=c["default"]},{"./clipboard-action":8,"good-listener":5,"tiny-emitter":7}]},{},[9])(9)}),rebind();